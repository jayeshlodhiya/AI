
#spring:
#  datasource:
#    url: jdbc:mysql://monorail.proxy.rlwy.net:3306/railway #jdbc:mysql://interchange.proxy.rlwy.net:36198/ragdb?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Kolkata&allowPublicKeyRetrieval=true #jdbc:mysql://localhost:3306/ragdb?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Kolkata&allowPublicKeyRetrieval=true   #jdbc:h2:mem:retaidai;DB_CLOSE_DELAY=-1;MODE=PostgreSQL
#   # driverClassName: org.h2.Driver
#   # url: jdbc:mysql://localhost:3306/ragdb?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Kolkata&allowPublicKeyRetrieval=true
#    username: root #sa
#    password: uiXDddyhmmCEDTWkAkSMVSbqYKhEhqGb


spring:
  datasource:
    url: jdbc:mysql://root:uiXDddyhmmCEDTWkAkSMVSbqYKhEhqGb@interchange.proxy.rlwy.net:36198/railway #jdbc:mysql://monorail.proxy.rlwy.net:3306/railway?sslMode=DISABLED&allowPublicKeyRetrieval=true&enabledTLSProtocols=TLSv1.2,TLSv1.3&connectTimeout=10000&socketTimeout=15000
    password: uiXDddyhmmCEDTWkAkSMVSbqYKhEhqGb
    driver-class-name: com.mysql.cj.jdbc.Driver
    hikari:
      minimum-idle: 0
      maximum-pool-size: 5
      initialization-fail-timeout: 0   # don't fail fast while you test
      validation-timeout: 5000

  jpa:
    database-platform: org.hibernate.dialect.MySQLDialect
    hibernate:
      ddl-auto: update
    properties:
      hibernate.boot.allow_jdbc_metadata_access: false  # keep off only while fixing connectivity

  h2:
    console:
      enabled: true
  servlet:
    multipart:
      location: ${app.upload-dir}
      max-file-size: 25MB
      max-request-size: 25MB

server:
  port: 8082

app:
  name: ai-retail-assistant
  seed:
    enabled: true

  upload-dir: uploads
  llm:
    provider: ollama
    model: llama3 #gemma3:12b #deepseek-r1:8b #llama3  #mistral #llama3     # Using the model you already have
    base-url: http://localhost:11434
    api-key: ""
    # Timeout settings (in milliseconds)
    connect-timeout: 10000    # 10 seconds for connection
    read-timeout: 80000       # 60 seconds for response (increase if using larger models)


  ocr:
    provider: ocrspace         # ocrspace | local (tesseract) | textract
    ocrspace:
      apikey: K83149892088957   # set env var or paste a key here
      language: eng                # e.g., eng or eng+hin (hin=Hindi)
      engine: 2                    # 2=default/fast; 5=experimental (sometimes better)

springdoc:
  api-docs:
    path: /v3/api-docs
  swagger-ui:
    path: /swagger-ui.html
    tagsSorter: alpha
    operationsSorter: method
  profiles:
   active: mysql

qcall:
  base-url: https://api.qcall.ai/api/v1
  api-key: d8c5d468-ddcb-4d3c-ae36-b2745d7abea3 #39c0a97e-befd-4476-aa5e-14699734cadd   # put the real key in env var QCALL_API_KEY
rag:
  api:
    baseUrl: https://ffbe2654905c.ngrok-free.app:8089 #http://localhost:8089
    connectTimeout: 5s
    readTimeout: 120s

    endpoints:
      text: /v1/documents:text
      file: /v1/documents:file
      url:  /v1/documents:url
      ask:  /v1/ask
      reindex: /v1/admin/reindex
    externalRag: true

logging:
  level:
    org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator: DEBUG
    org.hibernate.tool.schema: DEBUG
    com.zaxxer.hikari: DEBUG
