:root{
    --bg:#0b0c10; --panel:#121318; --muted:#9aa3b2; --text:#e8eef8; --accent:#7c9cff; --ok:#1ec38b; --warn:#ffb957;
    --border: #1e2330;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{margin:0;background:linear-gradient(180deg,#0b0c10,#0d1017);color:var(--text);font:14px/1.5 Inter,system-ui,Segoe UI,Arial}
  a{color:var(--text);text-decoration:none;opacity:.9} a:hover{opacity:1}
  .topbar{display:flex;align-items:center;justify-content:space-between;padding:12px 18px;border-bottom:1px solid var(--border);background:#0d1017;position:sticky;top:0;z-index:2}
  .brand{font-weight:700;letter-spacing:.3px}
  .tabs a{margin:0 8px;padding:6px 10px;border-radius:8px;color:var(--muted)}
  .tabs a.active{background:#141826;color:var(--text)}
  
  .container{display:grid;grid-template-columns:1.4fr .6fr;gap:18px;padding:18px;max-width:1200px;margin:0 auto}
  .conversation{background:var(--panel);border:1px solid var(--border);border-radius:16px;padding:14px;min-height:68vh;overflow:auto}
  .msg{display:flex;gap:10px;margin:12px 0}
  .msg .bubble{max-width:72%;padding:10px 12px;border-radius:14px;border:1px solid var(--border)}
  .user .bubble{background:#1b1f2b}
  .bot .bubble{background:#131827}
  .meta{font-size:12px;color:var(--muted);margin-top:4px}
  
  .side{display:flex;flex-direction:column;gap:18px}
  .card{background:var(--panel);border:1px solid var(--border);border-radius:16px;padding:14px}
  .row{display:flex;align-items:center;justify-content:space-between;margin:10px 0}
  .row label{color:var(--muted)}
  .mic-row{display:flex;align-items:center;gap:12px}
  .mic{background:var(--accent);border:none;color:white;padding:12px 16px;border-radius:999px;font-weight:600;cursor:pointer}
  .mic:active{transform:scale(0.98)}
  .secondary{background:#1a2030;color:#cbd5e1;border:1px solid var(--border)}
  
  .chips{display:flex;flex-wrap:wrap;gap:8px}
  .chips button{background:#171c2b;color:#c9d3ea;border:1px solid var(--border);border-radius:999px;padding:8px 12px;cursor:pointer}
  .chips button:hover{border-color:#2a3553}
  
  .footer{padding:14px;color:var(--muted);text-align:center;border-top:1px solid var(--border)}
  
  @media (max-width: 980px){
    .container{grid-template-columns:1fr;gap:12px}
  }
  
  /* Waveform */
  canvas#wave{background:#0f1320;border:1px solid var(--border);border-radius:10px}
  
  /* preserve spaces and line breaks in chat bubbles */
.msg .bubble{
    white-space: pre-wrap;     /* keep \n and sequences */
    word-break: break-word;
  }
  